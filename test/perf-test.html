<html>
  <head>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <!--<script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/key-bindings@v0.2-alpha/key-bindings.min.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/6dof-object-control@v0.2.1-alpha/src/6dof-object-control.min.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/6dof-object-control@v0.2.1-alpha/src/keyboard-hand-controls.min.js"></script>-->
    <!--<script src="../../tetris-engine/src/tetris.js"></script>-->
    <script src="../src/tetris.js"></script>
    <script src="../src/6dof-object-control.js"></script>
    <script src="../src/keyboard-hand-controls.js"></script>
    <script src="../src/thumbstick-object-control.js"></script>
    <script src="../src/tetrisland-utils.js"></script>
    <script src="../src/key-bindings.js"></script>
    <script src="../src/instanced-mesh.js"></script>
  </head>
  <body>
    <a-scene stats renderer="colorManagement:true">

      <!--Lighting-->
      <!--Directional light to create shadows. Note that position determines direction only,
          not actual position of light-->
      <a-entity light="type: directional; color: #EEE; intensity: 0.5; castShadow:true;" position="0 100 0"></a-entity>

      <!-- Also re-instate default lighting.  This does not cast shadows. -->
      <a-entity light="type: ambient; color: #BBB"></a-entity>
      <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>

  <a-entity id="rig" movement-controls="controls:keyboard">

    <a-entity id="camera"
              camera position="0 1.6 0"
              look-controls>
      <!--<a-text id="log-panel3" value="Keyboard Sim Data" position="-2 2 -4" color="black"></a-text>-->
    </a-entity>

    <a-entity id="lhand"
              hand-controls="hand: left"
              teleport-controls="cameraRig: #rig; teleportOrigin: #camera; button: trigger">
    </a-entity>
    <a-entity id="rhand"
              hand-controls="hand: right"
              teleport-controls="cameraRig: #rig; teleportOrigin: #camera;">
    </a-entity>
    <!-- Alternative, for debugging on PC...
    <a-entity id="rhand"
              hand-controls="hand: right"
              keyboard-hand-controls="logger:#log-panel3"
              position = "-3 1 -3">
    </a-entity>-->
  </a-entity>

<!--<a-mixin id="cube" geometry="primitive: box;"
         scale="0.1 0.1 0.1"
         shadow></a-mixin>-->
<a-mixin id="stand" framed-block="facecolor: black; framecolor: white" scale = "0.3 0.25 0.3"></a-mixin>

<a-mixin id="block0" framed-block="facecolor: yellow; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block1" framed-block="facecolor: blue; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block2" framed-block="facecolor: white; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block3" framed-block="facecolor: magenta; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block4" framed-block="facecolor: cyan; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block5" framed-block="facecolor: green; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block6" framed-block="facecolor: red; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block7" framed-block="facecolor: #888888; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block8" framed-block="facecolor: #FF8800; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block9" framed-block="facecolor: #FF0088; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block10" framed-block="facecolor: #88FF00; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block11" framed-block="facecolor: #00FF88; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block12" framed-block="facecolor: #8800FF; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block13" framed-block="facecolor: #0088FF; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block14" framed-block="facecolor: #FF8888; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block15" framed-block="facecolor: #88FF88; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block16" framed-block="facecolor: #8888FF; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block17" framed-block="facecolor: #88FFFF; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block18" framed-block="facecolor: #FFFF88; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>
<a-mixin id="block19" framed-block="facecolor: #FF88FF; framecolor: black" scale = "0.05 0.05 0.05"></a-mixin>

<!-- matching blue is #5786b8: -->
<a-mixin id="glass" material="transparent:true;opacity:0.1"></a-mixin>

<a-entity tetris-machine="id:6;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "-4 0 -3" rotation = "0 0 0">
</a-entity>

<a-entity tetris-machine="id:5;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "-2 0 -3" rotation = "0 0 0">
</a-entity>

<a-entity tetris-machine="id:1;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "0 0 -3" rotation = "0 0 0">
</a-entity>

<a-entity tetris-machine="id:2;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "2 0 -3" rotation = "0 0 0">
</a-entity>

<a-entity tetris-machine="id:3;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "4 0 -3" rotation = "0 0 0">
</a-entity>

<a-entity tetris-machine="id:4;shapeset:3DPentris;
                          label:3D Tetris;
                          xsize:5;zsize:5;
                          baseh:0.5;
                          hiscoreid:3DTetris5;
                          fill:18;
                          description:
                          10 x 10 filled arena for perf testing."
          position = "6 0 -3" rotation = "0 0 0">
</a-entity>

</body>
