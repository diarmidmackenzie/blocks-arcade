<!-- A version of 3D Tetris that removes all the debug information.
     This also removed keyboard-hand-controls (which simulates a 6DoF controller
     using keyboard), as that is unusable without a logger panel.
    So this version is only navigable using native keyboard, or native 6DoF

    To save duplication of comments, this file includes minimal commenting.
    See the config for 3D Tetris with debug enabled for explanation of the
    settings used here.
  -->

<html>
  <head>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@2.0.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/key-bindings@v0.1-alpha/key-bindings.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/6dof-object-control@v0.1-alpha/src/6dof-object-control.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/6dof-object-control@v0.1-alpha/src/keyboard-hand-controls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/diarmidmackenzie/tetris-engine@v0.1-alpha/src/tetris.min.js"></script>
  </head>
  <body>
    <a-scene renderer="colorManagement:true">
      <a-entity id="rig" movement-controls>
        <a-entity camera position="0 1.6 0" look-controls accesskey="">
        </a-entity>
      </a-entity>
      <a-entity id="rhand"
                hand-controls="hand: right"
                position="0.2 1.3 -0.3">
      </a-entity>
      <a-entity id="lhand"
                hand-controls="hand: left">
      </a-entity>

      <a-mixin id="cube" geometry="primitive: box;"
               scale="0.1 0.1 0.1"
               shadow></a-mixin>

      <a-entity environment="preset: forest; dressingAmount: 500"></a-entity>
      <a-entity light="type:directional; castShadow:true;" position='0 20 0'></a-entity>

      <a-entity id='shape-gen' shapegenerator
                               position = "0.0 2.0 -0.8"></a-entity>
      <a-entity tetrisgame="generator: #shape-gen; scoreboard: #scoreboard"></a-entity>
      <a-plane id="arena" arena="x: 5; z: 5" shadow="receive:true" height="0.5" width="0.5" rotation="-90 0 0" position = "0 0.5 -0.8" ></a-plane>
      <a-text value="VR 6DoF controller... Hold Grip + Move to Move.  Trigger + Rotate to Rotate\n
                     or Hold Grip + Trigger to Move & Rotate at the same time.\n
                     Keyboard controls...\n
                     Move your point of view with WASD or arrow keys, and the mouse.
                     You can play from any angle.  Press S to step back.\n
                     Move the blocks with YGHJ (like WASD).\n
                     Rotate the blocks with NumberPad 4/6 (yaw), 7/9 (roll), 8/5 (pitch)."
                     position="-6 3 -4" color="black"></a-text>
      <a-text id="scoreboard" value="Score" position="3 1 -3" color="black"></a-text>
    </a-scene>
  </body>
</html>
